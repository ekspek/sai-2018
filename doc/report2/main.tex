% arara: xelatex: { shell: yes, synctex: yes }
%\RequirePackage[l2tabu, orthodox]{nag}
\documentclass[english,palatino]{ist-report}

\input{preamble}
\geometry{top=1.5cm}

\title{Integrated Avionic Systems}

\begin{document}

\thispagestyle{empty}

\begin{center}
	\includegraphics[scale=0.3, trim = {93.4pt 219.7pt 77pt 221.9pt}]{IST_C_CMYK_POS}
	
	\vspace*{3mm}
	{\huge \textbf{Aircraft Altitude Control\\and Fault Processing}} \\
	\vspace*{4mm}
	{\large Control of an aircraft's altitude based on its sensor inputs and processing and mitigation of mid-flight system faults}
	\vspace*{4mm} \\
	\begin{tabular}{r l}
		Pedro \textsc{Afonso} & \textbf{66277} \\
		Jo√£o \textsc{Manito} & \textbf{73096} \\
		Daniel \textsc{de Schiffart} & \textbf{81479}
	\end{tabular}
	
	\vspace*{3mm}
	{\Large \today}
	\vspace*{4mm} \\
	\rule{\linewidth}{0.5pt}
\end{center}

\begin{abstract}
	The objective of the second laboratory for this course was to control an aircraft's altitude and movement based on the input provided by its sensors and the transmission of data throughout the aircraft's onboard systems via its Local Area Network, characterizing the data protocols and preparing data for transmission. The second part of this laboratory had its focus more directed to the possibility of mid-flight faults to various aircraft systems, the handling of these faults and the simulation of data to maintain the control of the aircraft's altitude mentioned in the first part in the presence of faults in any of the crucial systems for this process. The work was to be implemented in C code for the major part of its simulations, with an initial theoretical segment being done with the use of \textsc{MATLAB} to obtain fixed results relevant to the work.
\end{abstract}

{\hypersetup{linkcolor = black} \tableofcontents}

\part{Altitude Control}

\section{Modeling The Input Data}

The input data was modeled to fit a 3D polynomial function, using voltage in \si{\volt} and temperature in $\degree C$ as inputs.
\begin{gather*}
	p(v,T) = 27.21 + 311.6v + 0.05789T - 20.33v^2 + 0.1015vT
\end{gather*}
The raw data from the MATLAB output can be found below.  
\begin{minted}{text}
     Linear model Poly21:
     sf(x,y) = p00 + p10*x + p01*y + p20*x^2 + p11*x*y
     Coefficients (with 95% confidence bounds):
       p00 =       27.21  (24.31, 30.11)
       p10 =       311.6  (308.7, 314.5)
       p01 =     0.05789  (0.03087, 0.0849)
       p20 =      -20.33  (-20.92, -19.74)
       p11 =      0.1015  (0.09053, 0.1125)
\end{minted}

\section{ARINC Data Bus Sketching}

%ARINC 429 uses 32 bits. Of these 32 bits, 19 bits are used for data storage with the remainder being used for handshake definitions and other assorted packet-related data. Data is encoded in BCD. Knowing that a tenth of a degree of accuracy is needed, we can calculate the amount of bits BCD needs to encode any value within a pre-defined range.

%Assuming a maximum of $999.9$ degrees celcius (reasonable working range, as air temperatures will only get lower with altitude and sea-level temperature averages 25 degrees, while negative temperatures cap out at $\num{-273.15}\degree C$), that gives us four decimal slots total. From packed BCD, with four decimal digits required, we can use $4 \times 4 = 16$ bits for the numeric value, and an extra bit for signal. If we use a Kelvin degree notation we can eliminate the need for a signal bit.

\subsection{Question 3}

For this question we considered the range of values between $\num{-45}\degree C$ and $\num{125}\degree C$, which leaves us with a total of 170 values of temperature to be transmitted. With an additional request of an accuracy of $\num{0.1}\degree C$, we need ten times as many values. All things considered, we need to transmit any values in a range of 1700 possibilities. Going through the amount of possible values held by a number of binary bits, we look for the amount of bits to meet this requirement.

\begin{table}[ht]
	\centering
	\begin{tabular}{ccc}
		\vdots		& $=$	& \vdots	\\
		$2^9$		& $=$	& $512$		\\
		$2^{10}$	& $=$	& $1024$	\\
		$2^{11}$	& $=$	& $2048$	\\
		$2^{12}$	& $=$	& $4096$	\\
		\vdots		& $=$	& \vdots	\\
	\end{tabular}
\end{table}

With this in mind, and considering using an offset of values to eliminate the need for a signal bit (or even converting the temperature to Kelvin), we need at the very least 11 bits to transmit.

\section{Question 4}

\begin{gather*}
	h(p) = 145366.45\left(1 - \left(\frac{p_s}{1013.25}\right)^{0.190284}\right)
\end{gather*}

\part{Dealing With Faults and Errors}

\begin{align*}
	\dot{x} &= v\cos\gamma + at\cos(\gamma + \alpha) \\
	\dot{h} &= v\sin\gamma + at\cos(\gamma + \alpha) \\
	x &= \dot{x}t \\
	h &= \dot{h}t \\
	\tan\gamma &= \frac{\dot{x}}{\dot{h}}
\end{align*}
\begin{gather*}
	v = at \\
	a \propto T \\
\end{gather*}

\end{document}
